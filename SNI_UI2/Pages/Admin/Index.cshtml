@page
@using API.Controllers;
@using CAPA_DATOS.Security; 
@{

    if (!SecurityController.IsAdmin(HttpContext.Session.GetString("seassonKey")))
    {
        Response.Redirect("./login");
        return;
    }
}

<script type="module">
    import { WRender, WArrayF, ComponentsManager, WAjaxTools } from '../WDevCore/WModules/WComponentsTools.js';
    import { WCssClass } from '../WDevCore/WModules/WStyledRender.js';
    import { WSecurity } from "../WDevCore/Security/WSecurity.js";
    import { StyleScrolls } from "../WDevCore/StyleModules/WStyleComponents.js";
    import { WAppNavigator } from "../WDevCore/WComponents/WAppNavigator.js";  
    AdminTemplate.append(WRender.createElement(StyleScrolls));
</script>
@if (SecurityController.HavePermission(PermissionsEnum.ADMIN_ACCESS.ToString(), HttpContext.Session.GetString("seassonKey")))
{
    <script src="~/Admin/CaseManagerView.js" type="module"></script>
}
@if (SecurityController.HavePermission(PermissionsEnum.ADMINISTRAR_USUARIOS.ToString(), HttpContext.Session.GetString("seassonKey")))
{
    <script src="~/WDevCore/Security/AdminSecurity.js" type="module"></script>
}
@if (SecurityController.HavePermission(PermissionsEnum.ADMINISTRAR_CATALOGOS.ToString(), HttpContext.Session.GetString("seassonKey")))
{
    <script src="~/Proyect/AdminNavigator.js" type="module"></script>
}
@if (SecurityController.HavePermission(PermissionsEnum.QUESTIONNAIRES_MANAGER.ToString(), HttpContext.Session.GetString("seassonKey")))
{
    @* <script src="~/Questionnaires/Views/AdminNavigator.js" type="module"></script> *@
}
